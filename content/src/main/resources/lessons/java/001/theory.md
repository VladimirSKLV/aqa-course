# Урок 1. Переменные и типы данных (Java)

## Зачем это AQA

В автотестах вы постоянно:
- храните **данные ответов API** (id, статус, суммы, даты),
- работаете с **таймаутами и ожиданиями** (миллисекунды, секунды),
- сравниваете **ожидаемое и фактическое** (строки, числа, коллекции),
- обрабатываете **null/отсутствие данных** (не пришло поле, элемент не найден).

Ошибки выбора типов приводят к:
- неверным сравнениям (например, `5 / 2` даёт `2`, а не `2.5`),
- переполнениям (`int` для больших id/времени),
- плавающим ошибкам точности (`double` для денег),
- `NullPointerException` в рантайме.

---

## 1) Переменная: что это и зачем

**Переменная** — именованная область памяти, в которой хранится значение определённого типа.

Пример в тестах: вы получили `userId` из ответа API, сохранили, а затем используете его в следующем запросе.

```java
int userId = 123;
```

---

## 2) Примитивные типы: кратко

Чаще всего в автотестах вы будете встречать:

- `int` — целые числа (обычно статусы, небольшие id)
- `long` — большие целые числа (id в больших системах, timestamps)
- `boolean` — флаги (`true/false`)
- `double` — числа с плавающей точкой (**осторожно**: точность)

Пример:
```java
int statusCode = 200;
boolean isActive = true;
long startedAtMs = System.currentTimeMillis();
```

### Важно: деление целых
```java
int a = 5 / 2;    // 2
double b = 5 / 2; // тоже 2.0 (сначала int деление!)
double c = 5 / 2.0; // 2.5
```

**Почему важно в AQA:** при расчётах или проверках “процентов/коэффициентов” можно получить неверный результат.

---

## 3) Ссылочные типы: String и другие объекты

`String` — объект (ссылочный тип). В тестах это основной тип для:
- URL, токенов, имён, JSON-полей.

```java
String token = "Bearer abc";
```

### Почему String immutable
`String` неизменяемый: операции “изменения” создают новый объект. Это полезно:
- безопасно между потоками,
- удобно для кэшей,
- меньше неожиданных побочных эффектов.

---

## 4) null: источник большинства падений

`null` означает “значения нет”.

Типичная причина падений тестов:
- поле отсутствует в JSON,
- элемент не найден на странице,
- вы забыли инициализировать объект.

```java
String name = null;
System.out.println(name.length()); // NullPointerException
```

**Практика AQA:** всегда думайте, может ли значение быть `null`, и проверяйте это явно.

---

## 5) Деньги: почему не double

`double` хранит числа в двоичном формате → возникает ошибка точности.

Для денег в проверках (если вы реально сравниваете суммы):
- предпочтительно `BigDecimal`

---

## Мини-подсказка для реальной работы

В автотестах вы часто делаете такое:
- берёте значение из JSON,
- приводите к типу,
- сравниваете ожидания.

Понимание типов — база для корректных assertions в JUnit.
